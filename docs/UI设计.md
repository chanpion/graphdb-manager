# 图数据库管理系统 - 前端UI设计文档

## 1. UI设计概述

采用**企业级现代化设计风格**，结合**科技感**和**高效性**。使用Vue 3 + Element Plus + Tailwind CSS构建响应式界面，主色调为科技蓝，界面简洁专业，交互流畅。

### 1.1 设计原则

- **视觉优先**：第一眼给人专业、可信赖的感觉
- **信息清晰**：层次分明，重点突出
- **操作高效**：常用功能触手可及，减少操作步骤
- **反馈及时**：所有操作都有明确的视觉反馈
- **一致性强**：整体风格统一，降低学习成本

## 2. 整体布局设计

### 2.1 桌架布局

```
┌─────────────────────────────────────────────────────────────────────────┐
│                    顶部导航栏 (Top Navigation Bar)               │
│  ┌──────────────────────────────────────────────────────────────────┐   │
│  │  [Logo] [系统名称] [菜单1] [菜单2] [菜单3]    │   │
│  │                                              [搜索框]        │   │
│  │                                              [主题切换]       │   │
│  │                                              [用户信息]       │   │
│  └─────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────────┐
│                    主内容区域 (Main Content Area)                   │
│  ┌──────────────────┬────────────────────────────────────────────────┐   │
│  │                │                                        │   │
│  │   左侧边栏    │            右侧边栏（可选）               │   │
│  │  (侧边菜单)    │            (属性面板/详情面板)            │   │
│  │                │                                        │   │
│  │   导航菜单:    │            节点/边属性编辑器              │   │
│  │   - 连接管理     │            查询结果展示区               │   │
│  │   - 图实例管理  │                                        │   │
│  │   - 数据建模   │                                        │   │
│  │   - 数据管理   │                                        │   │
│  │   - 导入导出   │                                        │   │
│  │   - 图可视化   │                                        │   │
│  │                │                                        │   │
│  └──────────────────┴────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────────────┐
│                    底部状态栏 (Bottom Status Bar)                  │
│  [图实例信息] [状态提示] [操作提示] [帮助]              │
└─────────────────────────────────────────────────────────────────────────┘
```

### 2.2 导航设计

**顶部导航栏**（固定高度60px）：
- 左侧：Logo + 系统名称
- 中部：主菜单（连接管理、图管理、数据建模、数据管理、导入导出）
- 右侧：搜索框 + 主题切换 + 用户头像下拉菜单

**左侧边栏**（固定宽度240px，可折叠）：
- 连接管理图标 + 菜单文字
- 图实例管理图标 + 菜单文字
- 数据建模图标 + 菜单文字
- 数据管理图标 + 菜单文字
- 导入导出图标 + 菜单文字

### 2.3 响应式设计

**桌面端**（> 1920px）：
- 完整三栏布局
- 侧边栏宽度：240px

**平板端**（768px - 1920px）：
- 左侧边栏可折叠为抽屉式
- 右侧边栏可覆盖

**移动端**（< 768px）：
- 底部导航栏
- 单栏布局
- 侧边栏作为抽屉从左侧滑出

## 3. 页面原型设计

### 3.1 连接管理页面 (ConnectionList)

#### 3.1.1 页面布局

```
┌─────────────────────────────────────────────────────────────────────────┐
│                    顶部导航栏                                       │
├──────────┬─────────────────────────────────────────────────────────────┤
│          │  主内容区域                                       │
│  侧边栏   │  ┌─────────────────────────────────────────────────────┐   │
│ (菜单高亮) │  │  [新建连接按钮]                           │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │  ┌─────────────────────────────────────────────────────┐   │
│           │  │  连接列表（卡片式布局）                │   │
│           │  │  卡片1: [Neo4j图标] 生产环境              │   │
│           │  │           [主机] [端口] [状态: 正常]        │   │
│           │  │           [编辑] [测试] [删除]                 │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │                                                    │   │
│           │  卡片2: [Nebula图标] 测试环境              │   │
│           │           [主机] [端口] [状态: 正常]        │   │
│           │           [编辑] [测试] [删除]                 │   │
│           │  ...                                         │   │
│           │                                                    │   │
│           └────────────────────────────────────────────────────────────┘   │
│           │                                                    │   │
└──────────┴─────────────────────────────────────────────────────────────┘
                    底部状态栏                                       │
└─────────────────────────────────────────────────────────────────────────┘
```

#### 3.1.2 连接卡片设计

**卡片布局**：
- 宽度：100% - 32px（减去左右边栏和间距）
- 最小高度：180px
- 圆角：8px
- 阴影：0 2px 8px rgba(0,0,0,0.08)
- 悬停效果：阴影加深，轻微上浮（transform: translateY(-4px)）
- 过渡动画：0.3s ease

**卡片内容**：
- 图标：40x40px，根据数据库类型显示不同图标
- 标题：连接名称，字体18px，颜色#303133
- 数据库类型标签：小徽章，背景色区分
  - Neo4j：蓝色 #409EFF
  - NebulaGraph：绿色 #67C23A
  - JanusGraph：橙色 #FAAD14
- 连接信息：14px，颜色#606266
  - 主机：192.168.1.100
  - 端口：7687
  - 数据库/图空间：neo4j
- 状态指示器：圆形，10px
  - 正常：绿色 #52C41A
  - 异常：红色 #F5222D
- 操作按钮组：
  - 编辑按钮：蓝色 #409EFF，白色文字
  - 测试按钮：橙色 #FAAD14，白色文字
  - 删除按钮：红色 #F5222D，白色文字

#### 3.1.3 新建连接对话框

**对话框设计**：
- 宽度：600px
- 标题：新建连接，左上角关闭按钮
- 表单布局：垂直排列，间距16px

**表单字段**：
1. **连接名称**：
   - 标签：连接名称 *（红色星号）
   - 输入框：宽度100%，占位符"请输入连接名称"
   - 验证规则：必填，最大100字符，不允许重复

2. **数据库类型**：
   - 标签：数据库类型 *
   - 下拉选择：Neo4j、NebulaGraph、JanusGraph
   - 图标：每个选项显示对应数据库图标

3. **主机地址**：
   - 标签：主机地址 *
   - 输入框：宽度100%，占位符"例如：192.168.1.100"
   - 验证规则：必填，IP地址格式或域名格式

4. **端口号**：
   - 标签：端口号 *
   - 数字输入框：宽度100%，占位符"例如：7687"
   - 验证规则：必填，1-65535

5. **用户名**：
   - 标签：用户名
   - 输入框：宽度100%，占位符"请输入用户名"
   - 验证规则：可选，最大100字符

6. **密码**：
   - 标签：密码
   - 密码输入框：宽度100%，类型password
   - 眼睛图标：右侧可切换密码显示/隐藏

7. **数据库名/图空间**：
   - 标签：根据类型动态显示（数据库名/图空间/Graph）
   - 输入框：宽度100%
   - 验证规则：必填，最大100字符

8. **存储类型**（仅JanusGraph显示）：
   - 标签：存储类型
   - 单选框：HBase、Cassandra

9. **存储配置**（仅JanusGraph显示）：
   - 标签：存储配置
   - JSON输入框：多行文本，占位符"{...}"
   - 示例：{"zookeeper.quorum": "localhost:2181"}

10. **描述**：
   - 标签：描述
   - 文本域：多行文本，占位符"请输入连接描述"
   - 最大长度：500字符

**底部按钮**：
- 取消按钮：灰色按钮，文字"取消"
- 测试连接按钮：橙色按钮，文字"测试连接"
- 保存按钮：蓝色按钮，文字"保存"
- 按钮宽度：各占1/3，底部右对齐

### 3.2 图实例管理页面 (GraphInstanceList)

#### 3.2.1 页面布局

```
┌─────────────────────────────────────────────────────────────────────────┐
│                    顶部导航栏                                       │
│           当前：连接管理 > 图实例管理                          │
├──────────┬─────────────────────────────────────────────────────────────┤
│          │  主内容区域                                       │
│  侧边栏   │  ┌─────────────────────────────────────────────────────┐   │
│ (菜单高亮) │  │  [图选择下拉框] [刷新按钮]          │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │  ┌─────────────────────────────────────────────────────┐   │
│           │  │  图实例列表（卡片式布局）                │   │
│           │  │  卡片1: [neo4j图标] neo4j图              │   │
│           │  │           [节点数: 15,234] [边数: 45,678]    │   │
│           │  │           [更新时间: 2024-01-09 15:30]      │   │
│           │  │           [打开] [删除]                          │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │  ┌─────────────────────────────────────────────────────┐   │
│           │  │  卡片2: [nebula图标] space1               │   │
│           │  │           [节点数: 8,923] [边数: 23,456]     │   │
│           │  │           [更新时间: 2024-01-08 10:20]      │   │
│           │  │           [打开] [删除]                          │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │                                                    │   │
│           └────────────────────────────────────────────────────────────┘   │
│           │                                                    │   │
└──────────┴─────────────────────────────────────────────────────────────┘
                    底部状态栏：[图实例总数: 10]                        │
└─────────────────────────────────────────────────────────────────────────┘
```

#### 3.2.2 图实例卡片设计

**卡片布局**（类似连接卡片）：
- 图标：40x40px，数据库类型图标
- 图名称：18px，颜色#303133
- 统计信息：网格布局
  - 节点数：数字大，颜色#409EFF
  - 边数：数字大，颜色#52C41A
- 状态标签：正常/归档
- 操作时间：14px，颜色#909399
- 操作按钮：
  - 打开按钮：蓝色 #409EFF
  - 删除按钮：红色 #F5222D（需二次确认）

### 3.3 数据建模页面 (SchemaDesigner)

#### 3.3.1 页面布局

```
┌─────────────────────────────────────────────────────────────────────────┐
│                    顶部导航栏                                       │
│           当前：连接管理 > 图实例管理 > 数据建模                 │
│           工具栏：[保存按钮] [导出JSON按钮] [刷新按钮]            │
├──────────┬─────────────────────────────────────────────────────────────┤
│          │  主内容区域                                       │
│  侧边栏   │  ┌────────────┬────────────────────────────────────────┐   │
│ (菜单高亮) │  │        │ 右侧属性编辑器                      │   │
│           │  │        │                                    │   │
│           │  │ 左侧   │  属性编辑区（400px）              │   │
│           │  │ 节点   │  ┌────────────────────────────────────┐   │   │
│           │  │ 类型   │  │ 类型名称: Person            │   │
│           │  │ 树形   │  │ 属性:                    │   │
│           │  │ 菜单   │  │  [+] 名称: String          │   │
│           │  │        │  │  [+] age: Integer        │   │
│           │  │        │  │  [+] city: String         │   │
│           │  │        │  │  [删除]                    │   │
│           │  │        │  │  [编辑]                    │   │
│           │  │        │  └────────────────────────────────────┘   │   │
│           │  └────────────────────────────────────────────┘   │   │
│           │                                                    │   │
│           │  ┌─────────────────────────────────────────────────────┐   │
│           │  │            中央建模画布                        │   │
│           │  │  ┌─────────────────────────────────────────────┐   │
│           │  │  │  [节点类型: Person] [节点类型: Company] │   │
│           │  │  │     ↓                    ↓               │   │
│           │  │  │  [矩形图标]    →  [矩形图标]            │   │
│           │  │  │                                  │   │
│           │  │  [边类型: KNOWS] [边类型: WORKS_FOR] │   │
│           │  │     ↓                    ↓               │   │
│           │  │  [箭头连线]    →  [箭头连线]            │   │
│           │  │  ↓                    ↓               │   │
│           │  │                                      │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │                                                    │   │
│           │                                                    │   │
└──────────┴─────────────────────────────────────────────────────────────┘
                    底部状态栏：[节点类型: 5] [边类型: 3]          │
└─────────────────────────────────────────────────────────────────────────┘
```

#### 3.3.2 左侧树形菜单

**节点类型树**：
- 根节点：节点类型（可展开）
- 叶子：具体的节点类型名称
- 每项显示：
  - 类型图标：矩形，16x16px
  - 类型名称：14px，颜色#303133
  - 属性数量：灰色徽章，背景#F5F7FA

**边类型树**：
- 根节点：边类型
- 叶子：具体的边类型名称
- 每项显示：
  - 类型图标：箭头，16x16px
  - 类型名称：14px，颜色#303133
  - 属性数量：灰色徽章，背景#F5F7FA

**操作按钮**：
- 添加类型按钮：蓝色圆形加号，32x32px
- 删除类型按钮：红色圆形叉号，32x32px

#### 3.3.3 右侧属性编辑器

**顶部区域**：
- 类型名称：24px，粗体
- 类型描述：14px，颜色#606266
- 删除类型按钮：红色按钮，文字"删除类型"

**属性列表**：
- 每个属性项：高度36px，下边框1px #E8E8E
- 属性信息：
  - 名称：16px，宽度100px
  - 数据类型：下拉选择（String, Integer, Long, Double, Boolean, Date）
  - 是否必填：复选框
  - 默认值：文本框，根据类型输入
- 操作按钮：
  - 删除属性按钮：灰色叉号，20x20px
  - 上移/下移：灰色箭头，20x20px

**底部按钮**：
- 取消按钮：灰色
- 保存按钮：蓝色 #409EFF

### 3.4 数据管理页面 (DataCRUD)

#### 3.4.1 页面布局（节点数据）

```
┌─────────────────────────────────────────────────────────────────────────┐
│                    顶部导航栏                                       │
│           当前：连接管理 > 图实例管理 > 数据管理                 │
│           标签页: [节点数据] [边数据]                            │
│           筛选栏: [类型筛选] [搜索框] [新增按钮] [批量操作▼]    │
├──────────┬─────────────────────────────────────────────────────────────┤
│          │  主内容区域                                       │
│  侧边栏   │  ┌─────────────────────────────────────────────────────┐   │
│ (菜单高亮) │  │  数据表格区域（宽度100%）                │   │
│           │  │  ┌─────────────────────────────────────────────┐   │
│           │  │  │  [表头：UID | 名称 | 类型 | 创建时间 | 操作]   │   │
│           │  │  │  ├─────────────────────────────────────┤   │   │
│           │  │  │  │ v_001 | 张三 | Person | 2024-01-09 | [编辑] [删除] │   │
│           │  │  │  ├─────────────────────────────────────┤   │   │
│           │  │  │  │ v_002 | 李四 | Person | 2024-01-10 | [编辑] [删除] │   │
│           │  │  │  ├─────────────────────────────────────┤   │   │
│           │  │  │  v_003 | 王五 | Person | 2024-01-11 | [编辑] [删除] │   │
│           │  │  │  ├─────────────────────────────────────┤   │   │
│           │  │  │  v_004 | ...      │ [编辑] [删除] │   │   │
│           │  │  └─────────────────────────────────────────────┘   │   │
│           │  │  [分页: < 1 2 3 4 5 > 共15234]         │   │
│           │  │                                     │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │                                                    │   │
│           └─────────────────────────────────────────────────────────────┘   │
│           │                                                    │   │
└──────────┴─────────────────────────────────────────────────────────────┘
                    底部状态栏：[节点总数: 15234] [批量选择: 0]         │
└─────────────────────────────────────────────────────────────────────────┘
```

#### 3.4.2 表格设计

**表格样式**：
- 表头背景：#F5F7FA，字体粗体，14px
- 行背景：白色，悬停#FAFAFA
- 边框：1px solid #E8E8E
- 斑马线：隔行变色，浅灰色#F9F9F9

**列定义**：
1. **UID列**：
   - 宽度：150px
   - 固定显示：显示前20字符，鼠标悬停显示完整UID
   - 颜色：#409EFF，可点击

2. **名称列**：
   - 宽度：120px
   - 颜色：#303133
   - 来源：properties.name 或 properties.age

3. **类型列**：
   - 宽度：120px
   - 颜色：类型徽章，背景色区分
   - 来源：tagName

4. **属性摘要列**：
   - 宽度：200px
   - 颜色：#909399
   - 截断超长：显示前100字符，省略号...

5. **创建时间列**：
   - 宽度：150px
   - 颜色：#909399
   - 格式：2024-01-09 15:30

6. **操作列**：
   - 宽度：120px
   - 编辑按钮：蓝色文字，#409EFF
   - 删除按钮：红色文字，#F5222D
   - 点击后显示操作菜单

#### 3.4.3 新建/编辑节点对话框

**对话框设计**：
- 标题：新建节点（或编辑节点：张三）
- 宽度：600px

**表单字段**：
1. **UID**（编辑时显示，新建时隐藏）：
   - 只读输入框

2. **节点类型**：
   - 下拉选择：从Schema中获取所有节点类型

3. **属性编辑区**（根据Schema动态生成）：
   - 每个属性一行：
     - 属性名称（只读）
     - 属性值（输入框/下拉/日期选择器）
     - 必填标识（红色星号）

**底部按钮**：
- 取消按钮：灰色
- 保存按钮：蓝色 #409EFF

### 3.5 图可视化页面 (GraphVisualization)

#### 3.5.1 页面布局

```
┌─────────────────────────────────────────────────────────────────────────┐
│                    顶部导航栏                                       │
│           当前：连接管理 > 图实例管理 > 图可视化                 │
│           工具栏: [布局▼] [缩放: ▼ 100% 100%] [适应] [导出] [全屏]│
├──────────┬─────────────────────────────────────────────────────────────┤
│          │  主内容区域                                       │
│  侧边栏   │  ┌─────────────────────────────────────────────────────┐   │
│ (菜单高亮) │  │  节点类型筛选  边类型筛选              │   │
│           │  ┌──────────┬────────────────────────────────┐   │   │
│           │  │ 节点类型  │ 复选框列表               │   │
│           │  │          │  ☑ Person (15023)          │   │
│           │  │          │  ☑ Company (3200)           │   │
│           │  │          │  ☑ Organization (1200)      │   │
│           │  │          │  ☑ Location (800)         │   │
│           │  │          └────────────────────────────────────┘   │   │
│           │  ├────────────────────────────────────────────────┐   │   │
│           │  │  边类型筛选  复选框列表               │   │
│           │  │  ┌──────────┬────────────────────────────────┐   │
│           │  │  边类型    │ 复选框列表               │   │
│           │  │          │  ☑ KNOWS (23456)            │   │
│           │  │          │  ☑ WORKS_FOR (18000)       │   │
│           │  │          │  ☑ INVESTED_IN (4222)       │   │
│           │  │          │  ☑ RELATED_TO (5678)        │   │
│           │  │          └────────────────────────────────────┘   │   │
│           │  └────────────────────────────────────────────────────┘   │
│           │                                                    │   │
│           │  ┌─────────────────────────────────────────────────────┐   │
│           │  │            D3.js图可视化画布              │   │
│           │  │                                          │   │
│           │  │                                          │   │
│           │  │           [节点图标说明] [图例]              │   │
│           │  │           [● Person (蓝色) ● Company (绿色)     │   │
│           │  │           [─ KNOWS (灰色) ─ WORKS_FOR (橙色)]   │   │
│           │  │                                          │   │
│           │  │           [缩放控制: [-] [+] [自适应]]       │   │
│           │  │                                          │   │
│           │  │           [统计: 节点15234 边45678]         │   │
│           │  │                                          │   │
│           │  │           [搜索框: 按UID搜索...] [🔍]         │   │
│           │  │                                          │   │
│           │  │                                          │   │
│           │  │                                          │   │
│           │  │                                          │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │                                                    │   │
└──────────┴─────────────────────────────────────────────────────────────┘
                    底部状态栏：[节点数: 15234/50] [边数: 45678/50]       │
└─────────────────────────────────────────────────────────────────────────┘
```

#### 3.5.2 节点渲染

**节点样式**：
- 形状：圆形，根据度数动态调整大小
  - 基础大小：30px
  - 最小：20px，最大：60px
- 颜色：根据节点类型使用不同颜色
  - Person：#409EFF（蓝色）
  - Company：#52C41A（绿色）
  - Organization：#FAAD14（橙色）
  - Location：#13C2C2（青色）
- 边框：2px，白色
- 文字标签：节点名称，显示在节点下方或内部
- 悬停效果：阴影放大，鼠标变为pointer
- 选中效果：外圈高亮，蓝色边框

#### 3.5.3 边渲染

**边样式**：
- 线条：2px，灰色 #8C8C8
- 箭头：三角形，在终点节点显示
- 箭头颜色：与边同色
- 悬停效果：线条加粗到3px，颜色加深
- 选中效果：高亮显示，颜色 #409EFF

#### 3.5.4 交互功能

**鼠标交互**：
- 单击节点：选中节点，显示详情面板，高亮关联边
- 双击节点：展开邻居节点（1度），显示子图
- 拖拽节点：调整节点位置，停止力导向模拟
- 右键节点：显示上下文菜单
  - 编辑节点
  - 删除节点
  - 展开邻居
  - 高亮邻居
  - 隐藏关联边

**画布操作**：
- 滚轮缩放：以鼠标位置为中心，缩放范围10%-200%
- 拖拽平移：按住鼠标左键拖动画布
- 适应视图：自动调整缩放使所有节点可见
- 全屏：全屏显示图可视化

**布局切换**：
- 力导向：默认布局
- 圆形布局：节点沿圆形分布
- 分层布局：按节点类型分层
- 网格布局：节点按网格排列

### 3.6 CSV导入页面 (ImportCSV)

#### 3.6.1 页面布局

```
┌─────────────────────────────────────────────────────────────────────────┐
│                    顶部导航栏                                       │
│           当前：连接管理 > 图实例管理 > CSV导入                  │
├──────────┬─────────────────────────────────────────────────────────────┤
│          │  主内容区域                                       │
│  侧边栏   │  ┌─────────────────────────────────────────────────────┐   │
│ (菜单高亮) │  │  导入配置区                              │   │
│           │  │  ┌─────────────────────────────────────────────────┐   │   │
│           │  │  │  1. 导入类型选择                   │   │
│           │  │  │     ○ 节点数据                        │   │
│           │  │  │     ○ 边数据                          │   │
│           │  │  └─────────────────────────────────────────────┘   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │                                                    │   │
│           │  ┌─────────────────────────────────────────────────────┐   │
│           │  │ 2. 文件上传区域                        │   │
│           │  │  ┌─────────────────────────────────────┐   │   │
│           │  │  │ 拖拽上传区域                 │   │
│           │  │  │  ┌─────────────────────────────┐   │   │
│           │  │  │  │  [上传图标 32x32px]         │   │
│           │  │  │  │  点击或拖拽CSV文件到此处    │   │
│           │  │  │  └─────────────────────────────┘   │   │
│           │  │  └─────────────────────────────────────────────┘   │   │
│           │  │                                         │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │                                                    │   │
│           │  ┌─────────────────────────────────────────────────────┐   │
│           │  │  3. 字段映射配置                      │   │
│           │  │  ┌─────────────────────────────────────┐   │
│           │  │  │ 预览数据表格                    │   │
│           │  │  │  ┌─────────────────────────────┤   │   │
│           │  │  │  │ UID | 名称 | 年龄 | 城市    │   │
│           │  │  │  ├─────────────────────────────┤   │   │
│           │  │  │  │ v_001 | 张三 | 30 | 北京    │   │
│           │  │  │  │ v_002 | 李四 | 28 | 上海    │   │
│           │  │  │  ├─────────────────────────────┤   │   │
│           │  │  │  v_003 | 王五 | 25 | 深圳    │   │
│           │  │  │  ├─────────────────────────────┤   │   │
│           │  │  │  v_004 | ...                  │   │
│           │  │  │  └─────────────────────────────────────┘   │   │
│           │  │  └─────────────────────────────────────────────┘   │
│           │  │                                         │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │  ┌─────────────────────────────────────────────────────┐   │
│           │  │  映射配置                          │   │
│           │  │  ┌─────────────────────────────────────┐   │
│           │  │  │ CSV列: [UID▼]                   │   │
│           │  │  │  └─> 映射到: [属性名称▼]           │   │
│           │  │  └─────────────────────────────────────┘   │
│           │  │                                         │   │
│           │  │  ┌─────────────────────────────────────────────┐   │
│           │  │  导入选项                          │   │
│           │  │  ┌─────────────────────────────────────┐   │
│           │  │  │ 图实例选择: [neo4j ▼]             │   │
│           │  │  │ 批量大小: [100 ▼]              │   │
│           │  │  │ 错误处理: [继续 ▼] [停止]         │   │
│           │  │  │ 检测重复: [☑]                   │   │
│           │  │  └─────────────────────────────────────┘   │   │
│           │  │                                         │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │  ┌─────────────────────────────────────────────────────┐   │
│           │  │  导入进度                          │   │
│           │  │  ┌─────────────────────────────────────┐   │
│           │  │  │ 进度条: [██████████░░] 85%      │   │
│           │  │  │ └─────────────────────────────────────┘   │   │
│           │  │                                         │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │                                         │   │
│           │  ┌─────────────────────────────────────────────────────┐   │
│           │  │  导入按钮                          │   │
│           │  │  [返回] [开始导入] [取消]           │   │
│           │  │  开始导入: 蓝色按钮              │   │
│           │  │                                         │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │                                                    │   │
│           └─────────────────────────────────────────────────────────────┘   │
│           │                                                    │   │
└──────────┴─────────────────────────────────────────────────────────────┘
                    底部状态栏：[文件大小: 2.3MB] [导入状态: 准备中]  │
└─────────────────────────────────────────────────────────────────────────┘
```

#### 3.6.2 上传区域

**上传框样式**：
- 宽度：100%
- 高度：300px
- 虚线边框：2px虚线 #D9D9D9
- 背景色：白色
- 对齐：居中

**拖拽状态**：
- 文件拖入：背景色 #E6F7FF，文字"松开文件上传"
- 文件拖出：背景色白色，隐藏虚线框

#### 3.6.3 字段映射

**下拉选择器**：
- CSV列选择器：
  - 宽度：150px
  - 占位符："请选择列"
  - 显示CSV的前10列名

- 映射下拉选择器：
  - 宽度：200px
  - 占位符："请选择映射到..."
  - 显示Schema中的所有属性名称

#### 3.6.4 进度显示

**进度条**：
- 宽度：100%
- 高度：24px
- 背景色：#F5F7FA
- 前景色：#409EFF
- 显示文本："已处理 853/1000 条数据"

**进度详情**：
- 成功数：853
- 失败数：147
- 错误列表：滚动显示前50条

### 3.7 原生查询页面 (NativeQuery)

#### 3.7.1 页面布局

```
┌─────────────────────────────────────────────────────────────────────────┐
│                    顶部导航栏                                       │
│           当前：连接管理 > 图实例管理 > 原生查询                    │
│           工具栏: [执行] [停止] [清空] [历史▼] [导出] [可视化]    │
├──────────┬─────────────────────────────────────────────────────────────┤
│          │  主内容区域                                       │
│  侧边栏   │  ┌─────────────────────────────────────────────────────┐   │
│ (菜单高亮) │  │  查询编辑器区域（高度400px）                     │   │
│           │  │  ┌─────────────────────────────────────────────────┐   │   │
│           │  │  │  [工具栏: [撤销] [重做] [复制] [粘贴]]       │   │   │
│           │  │  │  ┌─────────────────────────────────────────┐   │   │
│           │  │  │  │  [行号]  1| MATCH (p:Person)         │   │   │
│           │  │  │  │         2| -[r:KNOWS]->(f:Person)      │   │   │
│           │  │  │  │         3| WHERE p.name = '张三'       │   │   │
│           │  │  │  │         4| RETURN p, r, f             │   │   │
│           │  │  │  │         5| LIMIT 100                   │   │   │
│           │  │  │  │                                         │   │   │
│           │  │  │  │                                         │   │   │
│           │  │  │  └─────────────────────────────────────────┘   │   │
│           │  │  └─────────────────────────────────────────────────┘   │   │
│           │  │                                                    │   │
│           │  │  ┌─────────────────────────────────────────────────┐   │   │
│           │  │  │  查询配置: [超时: 60秒▼] [限制: 1000▼] [解释] │   │   │
│           │  │  └─────────────────────────────────────────────────┘   │   │
│           │  │                                                    │   │
│           │  │  ┌─────────────────────────────────────────────────┐   │
│           │  │  │  查询模板                                  │   │   │
│           │  │  │  [基础查询] [聚合查询] [图算法]          │   │   │
│           │  │  │  ┌─────────────────────────────────────┐   │   │
│           │  │  │  │ ○ 查询所有Person节点              │   │   │
│           │  │  │  │ ○ 两度邻居查询                     │   │   │
│           │  │  │  │ ○ 节点数量统计                     │   │   │
│           │  │  │  │ ○ 最短路径查询                     │   │   │
│           │  │  │  └─────────────────────────────────────┘   │   │
│           │  │  └─────────────────────────────────────────────────┘   │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │                                                    │   │
│           │  ┌─────────────────────────────────────────────────────┐   │
│           │  │  查询结果区域                              │   │
│           │  │  ┌─────────────────────────────────────────────────┐   │   │
│           │  │  │  统计信息: [执行时间: 234ms] [结果数: 85]   │   │
│           │  │  └─────────────────────────────────────────────────┘   │   │
│           │  │  ┌─────────────────────────────────────────────────┐   │   │
│           │  │  │  [表格结果] [图可视化]                      │   │   │
│           │  │  │  ┌─────────────────────────────────────────┐   │   │
│           │  │  │  │  [表头: p | r | f]                   │   │   │
│           │  │  │  │  ┌───────────────────────────────────┐   │   │
│           │  │  │  │  │ p: 节点(v_001, Person)          │   │   │
│           │  │  │  │  │   name: 张三, age: 30            │   │   │
│           │  │  │  │  └───────────────────────────────────┘   │   │
│           │  │  │  │  ┌───────────────────────────────────┐   │   │
│           │  │  │  │  │ r: 边(e_001, KNOWS)              │   │   │
│           │  │  │  │  │   since: 2010                     │   │   │
│           │  │  │  │  └───────────────────────────────────┘   │   │
│           │  │  │  │  ┌───────────────────────────────────┐   │   │
│           │  │  │  │  │ f: 节点(v_002, Person)          │   │   │
│           │  │  │  │  │   name: 李四, age: 28            │   │   │
│           │  │  │  │  └───────────────────────────────────┘   │   │
│           │  │  │  │                                         │   │
│           │  │  │  │  [分页: < 1 2 3 4 5 > 共85]         │   │
│           │  │  │  └─────────────────────────────────────────┘   │   │
│           │  │  └─────────────────────────────────────────────────┘   │   │
│           │  └─────────────────────────────────────────────────────┘   │
│           │                                                    │   │
│           └─────────────────────────────────────────────────────────────┘   │
│           │                                                    │   │
└──────────┴─────────────────────────────────────────────────────────────┘
                    底部状态栏：[查询语言: Cypher] [状态: 就绪]      │
└─────────────────────────────────────────────────────────────────────────┘
```

#### 3.7.2 查询编辑器

**编辑器样式**：
- 宽度：100%
- 高度：400px（可调整）
- 字体：等宽字体，14px
- 行号区域：宽度40px，背景色#F5F7FA，文字#909399
- 编辑区域：背景色#FFFFFF，文字#303133
- 语法高亮：
  - 关键字：蓝色 #409EFF（MATCH, WHERE, RETURN等）
  - 字符串：绿色 #67C23A
  - 注释：灰色 #909399
  - 函数：紫色 #9C27B0
  - 数字：橙色 #E6A23C

**编辑器功能**：
- 代码补全：输入关键字时自动提示补全（Ctrl + Space）
- 括号匹配：自动匹配括号、引号
- 快捷操作：
  - Ctrl + Enter：执行查询
  - Ctrl + /：注释/取消注释
  - Ctrl + D：删除当前行
  - Ctrl + F：查找
  - Ctrl + H：替换
- Tab支持：Tab键输入4个空格，Shift + Tab取消缩进

**查询模板面板**：
- 宽度：100%
- 高度：自适应
- 分类标签页：基础查询、聚合查询、图算法
- 模板列表：
  - 模板名称
  - 模板描述
  - 悬停显示查询语句预览
- 点击模板：自动填入查询语句到编辑器

#### 3.7.3 查询结果展示

**表格结果**：
- 表格样式：
  - 表头背景：#F5F7FA，字体粗体，14px
  - 行背景：白色，悬停#FAFAFA
  - 边框：1px solid #E8E8E8
  - 斑马线：隔行变色，浅灰色#F9F9F9
- 列操作：
  - 列排序：点击列头升序/降序排序
  - 列筛选：下拉显示/隐藏特定列
  - 列宽调整：拖拽列边界调整宽度
  - 列固定：支持固定左侧列
- 特殊数据类型展示：
  - 节点数据：显示为"节点(uid, tagName)"格式，可点击查看详情
  - 边数据：显示为"边(uid, edgeType, sourceUid → targetUid)"格式
  - 数组数据：显示"[...]"，点击展开/折叠
  - 地理坐标：显示"(lat, lon)"格式
  - 二进制数据：显示"<binary>"格式

**结果统计栏**：
- 位置：结果表格上方
- 内容：
  - 执行时间：234ms
  - 结果数量：85
  - 查询状态：成功/失败/超时
  - 影响行数：100（对于写操作）
- 样式：
  - 背景色：#F5F7FA
  - 文字颜色：#606266
  - 字体大小：14px

**分页控制**：
- 位置：结果表格底部
- 默认每页20条，可调整（10/20/50/100）
- 支持跳转到指定页
- 显示总记录数：共85条

#### 3.7.4 查询历史

**历史面板**：
- 位置：右侧抽屉，宽度400px
- 触发：点击"历史"按钮
- 内容：
  - 历史记录列表
  - 每条记录显示：
    - 查询语句（前50字符，超长省略）
    - 执行时间
    - 执行时间戳
    - 查询状态（成功/失败/超时）
    - 结果数量
- 操作：
  - 点击记录：加载查询语句到编辑器
  - 右键菜单：复制查询、删除记录
  - 清空历史：清空所有历史记录

**历史记录保存**：
- 自动保存：每次执行查询自动保存
- 保存数量：最多保存最近100条
- 持久化：保存到LocalStorage
- 同步：多标签页之间同步

#### 3.7.5 查询可视化

**可视化结果**：
- 触发：点击"可视化"按钮
- 自动识别：
  - 识别节点数据（包含uid和tagName的节点）
  - 识别边数据（包含uid、edgeType、sourceUid、targetUid的边）
- 可视化选项：
  - 选择要可视化的节点类型（复选框）
  - 选择要可视化的边类型（复选框）
  - 设置节点数量限制（避免性能问题）
  - 选择布局算法（力导向/圆形/分层）
- 可视化展示：
  - 使用D3.js渲染结果图
  - 支持拖拽、缩放、节点展开等交互
  - 显示节点和边的统计信息

**可视化导出**：
- 导出PNG：导出当前可视化视图为PNG图片
- 导出SVG：导出全图为SVG矢量图
- 分辨率设置：可自定义图片分辨率

#### 3.7.6 查询优化建议

**优化面板**：
- 位置：查询结果下方的折叠面板
- 触发：点击"查看执行计划"或查询后自动显示
- 内容：
  - 查询执行计划（树形结构展示）
  - 性能指标：
    - 扫描节点数量
    - 扫描边数量
    - 使用索引
    - 内存使用情况
  - 优化建议：
    - 建议创建的索引
    - 查询语句优化建议
    - 性能优化提示

#### 3.7.7 批量查询

**批量查询模式**：
- 触发：切换到"批量查询"标签页
- 编辑器：支持多条查询语句，用分号";"分隔
- 执行方式：依次执行每条查询
- 结果展示：每条查询的结果分标签页展示
- 导出：支持导出所有查询结果为报告

#### 3.7.8 查询脚本管理

**脚本管理对话框**：
- 宽度：800px
- 内容：
  - 脚本列表（表格）
  - 脚本编辑器（编辑/新建）
  - 脚本执行按钮
- 脚本编辑：
  - 脚本名称
  - 脚本描述
  - 查询语句列表（多行文本，每行一条查询）
- 脚本执行：
  - 执行所有查询
  - 显示执行进度
  - 生成执行报告
  - 支持下载报告

## 4. 交互设计

### 4.1 微交互效果

**按钮悬停**：
- 阴影：从 0 2px 8px 变为 0 4px 12px rgba(0,0,0,0.12)
- 背景：从 #409EFF 变为 #66B1FF
- 过渡：0.2s ease

**卡片悬停**：
- 变换：translateY(-4px)
- 阴影加深：0 4px 12px rgba(0,0,0,0.12)
- 过渡：0.3s cubic-bezier

**输入框聚焦**：
- 边框：从 #D9D9D9 变为 #409EFF
- 外阴影：0 0 0 4px rgba(64,158,255,0.2)
- 过渡：0.2s ease

### 4.2 动画效果

**加载动画**：
- 骨架屏：闪烁效果，1s间隔
- 内容加载：从底部淡入，0.3s ease

**节点出现动画**：
- 初始状态：scale(0)，opacity(0)
- 最终状态：scale(1)，opacity(1)
- 过渡：0.4s cubic-bezier
- 弹性效果：bounce 0.3s

**节点删除动画**：
- 缩小：scale(1) → scale(0)
- 透明度：opacity(1) → opacity(0)
- 过渡：0.3s ease

### 4.3 反馈提示

**成功提示**：
- 图标：绿色对勾
- 背景色：#F0F9EB
- 文字："操作成功"
- 显示时间：3s，自动消失

**错误提示**：
- 图标：红色叉号
- 背景色：#FEE
- 文字：显示错误信息
- 显示时间：5s，自动消失

**警告提示**：
- 图标：黄色感叹号
- 背景色：#FFFBE6
- 文字：显示警告信息
- 显示时间：3s，自动消失

**加载提示**：
- 全屏遮罩：半透明黑色，0.5
- 加载动画：旋转的圆圈，1s
- 提示文字："加载中..."

### 4.4 对话框设计

**对话框遮罩**：
- 背景：rgba(0,0,0,0.5)
- 位置：fixed
- 层级：9999

**对话框动画**：
- 进入：从中心淡入，0.2s ease
- 退出：向中心淡出，0.2s ease

### 4.5 快捷键

| 快捷键 | 功能 | 说明 |
|-------|------|------|
| Ctrl + N | 新建节点 |
| Ctrl + E | 新建边 |
| Ctrl + S | 保存 |
| Ctrl + F | 搜索 |
| Ctrl + , | 切换下一个 |
| Ctrl + . | 切换上一个 |
| Delete | 删除选中项 |
| Ctrl + A | 全选 |
| Ctrl + D | 取消全选 |
| Esc | 关闭对话框/取消选择 |
| Ctrl + 0 | 重置视图 |
| Ctrl + + | 放大视图 |
| Ctrl + - | 缩小视图 |

## 5. 响应式断点

| 设备类型 | 屏幕宽度 | 左侧边栏 | 右侧面板 | 布局方式 |
|---------|---------|----------|----------|---------|
| 大屏 | > 1920px | 固定240px | 固定320px | 三栏完整布局 |
| 中屏 | 1024px - 1920px | 固定240px | 固定320px | 三栏完整布局 |
| 小屏 | 768px - 1024px | 可折叠240px | 固定320px | 三栏布局 |
| 平板 | < 768px | 抽屉式240px | 覆盖320px | 两栏布局 |
| 手机 | < 768px | 隐藏侧边栏 | 全屏覆盖320px | 单栏布局 |

## 6. 深色模式设计

### 6.1 颜色系统

**浅色主题（默认）**：
```css
--primary: #409EFF
--background: #FFFFFF
--surface: #F5F7FA
--text-primary: #303133
--text-secondary: #606266
--text-tertiary: #909399
--border: #E8E8E8
--hover-bg: #FAFAFA
```

**深色主题**：
```css
--primary: #66B1FF
--background: #1A1D24
--surface: #2C2E35
--text-primary: #FFFFFF
--text-secondary: #A6ADB4
--text-tertiary: #7D8596
--border: #3E4145
--hover-bg: #363642
```

### 6.2 深色切换

- 切换按钮：顶部导航栏，图标/文字显示当前主题
- 平滑过渡：0.3s ease
- 主题持久化：保存到LocalStorage，下次自动加载

### 6.3 深色组件适配

**组件样式调整**：
- 卡片背景：使用surface色
- 文字颜色：使用text-primary
- 边框颜色：使用border色
- 输入框：深色背景，浅色文字

**图表适配**：
- 图表主题：使用ECharts深色主题
- 图表背景：transparent
- 图例文字：text-secondary

## 7. 无障碍设计

### 7.1 键盘导航

- Tab键：在表单元素间切换焦点
- Shift + Tab：反向切换
- Enter：提交表单
- Escape：取消操作/关闭对话框

### 7.2 ARIA标签

- 按钮添加aria-label
- 输入框添加aria-label和aria-describedby
- 图标使用aria-hidden="true"
- 动态内容使用aria-live="polite"

### 7.3 对比度

- 所有文本颜色对比度至少4.5:1
- 交互元素有明确的焦点状态（外框高亮）
- 不仅仅使用颜色区分状态，还要使用图标、纹理等

## 8. 性能优化

### 8.1 虚拟滚动

- 大列表使用虚拟滚动技术（vue-virtual-scroller）
- 只渲染可见区域的20个元素
- 滚动时动态加载和卸载元素

### 8.2 懒加载

- 列表分页加载
- 图片懒加载（Intersection Observer）
- 路由懒加载（动态import）

### 8.3 防抖和节流

- 搜索输入：debounce 300ms
- 窗口resize：throttle 200ms
- 滚轮缩放：throttle 50ms

## 9. 设计组件库

### 9.1 使用Element Plus组件

- el-form：表单组件
- el-table：表格组件
- el-dialog：对话框组件
- el-card：卡片组件
- el-button：按钮组件
- el-input：输入框
- el-select：下拉选择
- el-checkbox：复选框
- el-switch：开关
- el-tree：树形组件
- el-progress：进度条
- el-upload：文件上传
- el-drawer：抽屉组件
- el-tooltip：工具提示
- el-message：消息提示
- el-loading：加载动画
- el-dropdown：下拉菜单

### 9.2 自定义组件

**节点类型树组件**：
- 可展开/折叠
- 显示属性数量徽章
- 拖拽功能（从树拖拽到画布）

**图例组件**：
- 显示节点类型图例
- 显示边类型图例
- 支持点击筛选

**进度卡片组件**：
- 显示导入进度
- 显示成功/失败统计
- 显示错误日志
